"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var constants_1 = require("./constants");
var utils_1 = require("./utils");
exports.isRegisterRequestValid = function (request) {
    var requestKeys = utils_1.isObject(request) ? Object.keys(request) : [];
    return (requestKeys.length === constants_1.ENV_REGISTRY_ITEM_PROPS_LENGTH &&
        constants_1.ENV_REGISTRY_ITEM_PROPS.every(function (prop) { return requestKeys.includes(prop); }));
};
exports.isEnvKeyValid = function (envKey) { return typeof envKey === 'string'; };
exports.isEnvValid = function (env) {
    return utils_1.isObject(env) &&
        Object.keys(env).length === constants_1.ENV_REGISTRY_ENV_PROPS_LENGTH &&
        env.services &&
        isEnvServiceValid(env.services);
};
var isEnvServiceValid = function (services) {
    return services.every(function (service) {
        return utils_1.isObject(service) &&
            Object.keys(service).length === constants_1.ENV_REGISTRY_ENV_SERVICE_PROPS_LENGTH &&
            isEnvServiceNameValid(service.serviceName) &&
            isEnvUrlValid(service.url) &&
            isEnvMethodsValid(service.methods);
    });
};
var isEnvServiceNameValid = function (serviceName) { return typeof serviceName === 'string'; };
var isEnvUrlValid = function (url) { return typeof url === 'string'; };
var isEnvMethodsValid = function (methods) {
    return utils_1.isObject(methods) && Object.values(methods).every(isEnvMethodValid);
};
var isEnvMethodValid = function (method) {
    return utils_1.isObject(method) &&
        Object.keys(method).length === constants_1.ENV_REGISTRY_ENV_METHOD_PROPS_LENGTH &&
        method.asyncModel &&
        constants_1.ENV_REGISTRY_VALID_ASYNC_MODEL.includes(method.asyncModel);
};
